import{j as C,d as P,R,S as b,P as j,W as z,H as A,I as S,f as v,k as E,l as H}from"./three.module-67558082.js";import{Size as L}from"./model-76944e9e.js";import{O}from"./OrbitControls-3d27026f.js";let i,t,o,p,x;const e=L.getInstance();let n,c,f;const r=10,k=Math.pow(10,3),M=new C(16777215),u=new C;q();F();y();function q(){c=new P(1,1),f=new R,i=new b,t=new j(30,e.aspect,.1,1e3),t.position.set(20,20,20),i.add(t),o=new z,o.setSize(e.width,e.height),o.setPixelRatio(e.pixelRatio),document.body.appendChild(o.domElement),x=new O(t,o.domElement),p=new A(16777215,8947848),p.position.set(0,1,0),i.add(p)}function F(){const a=new S(.5,3),I=new v;n=new E(a,I,k);const g=new H,d=(r-.5*2)/2;let l=0;for(let m=0;m<r;m++)for(let h=0;h<r;h++)for(let w=0;w<r;w++)g.setPosition(m-d,h-d,w-d),n.setMatrixAt(l,g),n.setColorAt(l,M),l+=1;i.add(n)}function y(){o.render(i,t),f.setFromCamera(c,t),x.update();let s=f.intersectObject(n);if(s.length>0){const a=s[0].instanceId;n.getColorAt(a,u),u.equals(M)&&(n.setColorAt(a,u.setHex(Math.random()*16777215)),n.instanceColor.needsUpdate=!0)}requestAnimationFrame(y)}e.onResize(function(){t.aspect=e.aspect,t.updateProjectionMatrix(),o.setSize(e.width,e.height)});window.addEventListener("mousemove",function(s){c.x=s.clientX/e.width*2-1,c.y=1-s.clientY/e.height*2});
