import{S as D,Y as G,g as L,z as M,d as x}from"./three.module-2fef69e5.js";import{G as v}from"./GLTFLoader-4f14a869.js";import{D as y,R as I}from"./RoomEnvironment-ea592da9.js";import{Size as O}from"./model-76944e9e.js";import{U as f}from"./utils-315ca8db.js";import{C as A,a as $}from"./CSS2DRenderer-e0655caf.js";import{G as H}from"./lil-gui.esm-1e0f7d72.js";import"./BufferGeometryUtils-de038164.js";import"./OrbitControls-916b91d8.js";const t=O.getInstance(),c=new D,m=f.initCamera(t),h=f.initRenderer(t),P=f.initControl(m,h),z=new v,r=new A,l=8,p=16,s=new G;let g;const T=new H,w={size:5};U();S();function U(){const i=new y;i.setDecoderPath("./gltf/"),z.setDRACOLoader(i),r.setSize(t.width,t.height),r.domElement.style.position="absolute",r.domElement.style.top="0px",r.domElement.style.pointerEvents="none",document.body.appendChild(r.domElement),m.position.set(0,12,20),t.onResize(function(){f.onResize(t,m,h),r.setSize(t.width,t.height)}),c.background=new L(3092271);const e=new M(h);c.environment=e.fromScene(new I,.04).texture;const o=new x(16777215,.2);c.add(o),z.load("./models/cabin_001.glb",function(d){console.log(d.scene),g=d.scene,g.rotation.y=-Math.PI/2,R(w.size),T.add(w,"size",1,300,1).onChange(function(){R(w.size)})}),c.add(s)}function R(i){for(;s.children.length>0;){const n=s.children[0];n.parent?.remove(n)}const e=Math.ceil(Math.sqrt(i)),o=e*(e-1)>=i?e-1:e,d=o*e;console.log(`${o},${e}`);let C=1;for(let n=0;n<o;n++)for(let a=0;a<e;a++){if(i>d-C){const b=g.clone();b.position.set(n*p,0,a*l),s.add(b);const u=document.createElement("div");u.className="label",u.textContent=`sn:${n}-${a}`;const E=new $(u);E.position.set(n*p+3,3,a*l+1),s.add(E)}C+=1}s.position.x=-o*p/2+p/2,s.position.z=-e*l/2+l/2,m.position.set(0,o*5,e*8)}function S(){h.render(c,m),P.update(),requestAnimationFrame(S)}
